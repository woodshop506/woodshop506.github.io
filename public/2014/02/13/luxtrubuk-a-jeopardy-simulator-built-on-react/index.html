<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>LUXTRUBUK: a JEOPARDY!™ simulator built on React</title>
        <meta name="viewport" content="width=device-width">
        <link rel="shortcut icon" href="/favicon.ico" />
        <link rel="stylesheet" href="/css/style.css" type="text/css" media="all" />
        <link href='http://fonts.googleapis.com/css?family=Lora:400,700' rel='stylesheet' type='text/css'>
    </head>
    <body>
      <!--
      <div class="stripey-guy">
        <div class="container">
          <div class="inner">
            <div></div><div></div><div></div><div></div><div></div><div></div>
          </div>
        </div>
      </div>
      -->

      

      <div id="main" class="container">
              <div class="site-header">
        <div class="r">
          <div class=g-12>
            <p class=site-header-copy>
              <span class="lined-header-span">You're reading an article on 
                <a href="/">JJT.io</a>, a web development
                blog by <a href="/about">Jason Trill</a>
              </span>
            </p>
          </div>
          <!--
          <div class="g-4 text-right">
            <p>You're reading an article on</p>
          </div>
          <div class="site-title-g">
            <a href="/" class="site-title">
              <span class="st1">J</span>
              <span class="st2">J</span>
              <span class="st3">T</span>
              <span class="st4">.</span>
              <span class="st5">I</span>
              <span class="st6">O</span>
            </a>
          </div>

          <div class="g-4">
            <p>which is a blog by Jason Trill</p>
          </div>
          -->
        </div>
      </div>

      <div class=site-content>
        <div class="r post-body">
  <div class="g-12">
      <p class="post-meta">13 Feb 2014</p>
      <h1>LUXTRUBUK: a JEOPARDY!™ simulator built on React</h1>
      <h2 id='what_are_we_yelling_about'>WHAT ARE WE YELLING ABOUT?!?!</h2>

<p>My friends and I like JEOPARDY!™. So we found old episodes on YouTube and &#8220;played&#8221; along, yelling out answers before the contestants and writing down our scores on paper. It was fun, but finding new episodes would become a chore. And as it turns out, the actual contestants were much better than us and we missed a lot of questions. So when I needed a small project to try out Facebook&#8217;s <a href='http://facebook.github.io/react/index.html'>React</a>, a JEOPARDY!™ game seemed like the perfect fit.</p>

<p>And like that, <a href='http://luxtrubuk.jjt.io'>LUXTRUBUK</a> was born.</p>

<h2 id='architecture'>Architecture</h2>

<p>My goal with LUXTRUBUK was to put as much of the functionality in the frontend as possible. I ended up with a backend that has one purpose: selecting a random gamehash from an array and returning it to the client. I could have put that array into the frontend but I wanted to spare the client another ~144kB.</p>

<p><em>Sidenote: someone should start an AaaS (Arrays as a Service). Major perk is that you get to say &#8220;ass&#8221; with a funny intonation.</em></p>

<p>The data for each game is stored in a json file, <a href='http://luxtrubuk.jjt.io/data/games/efb4210a3e3edad92c46422bbe355daf.json'>like this one</a>.</p>

<p>The frontend is basically just React with help from <a href='http://zeptojs.com'>Zepto</a> and <a href='http://lodash.com'>Lo-Dash</a>. I rolled up a <a href='https://github.com/jjt/LUXTRUBUK/blob/master/client/src/jsx/index.jsx#L10-L69'>stupidly-simple router</a>, but I might replace that with <a href='https://github.com/flatiron/director'>Director</a> at some point. I elected to go CommonJS-style modules for my code and used <a href='http://browserify.org/'>Browserify</a> to package them up for the browser. I find this strategy simpler and cleaner than AMD and Require.js.</p>

<p>For a build task runner, I elected to try out <a href='http://gulpjs.com'>gulp</a> this time instead of my usual <a href='http://gruntjs.com'>Grunt</a>. Run the develop task and we have watching compilation of CoffeeScript, JSX, Sass, and Browserify, as well as running Mocha tests. When it&#8217;s time to build, gulp will compile, concatenate, and minify everything into a <code>dist/</code> directory.</p>

<p>For easy deployments to S3/CloudFront I&#8217;m using the ruby gem <a href='https://github.com/laurilehmijoki/s3_website'>s3_website</a>. Supply a <a href='https://github.com/laurilehmijoki/s3_website/blob/master/additional-docs/example-configurations.md'>configuration file</a> and run two s3_website commands to get set up, then it&#8217;s just <code>s3_website push --site dist</code> to deploy.</p>

<p>But the real star of the show here is React.</p>

<h2 id='react_is_a_great_view_layer'>React is a great view layer</h2>

<p>React components are modules of code that render markup based on properties and state. They are structured so that the flow of data is always down - components can include other components and set their props, but the child components have no reference to their parents.</p>

<p>For my money, the killer feature of React is its virtual DOM. When a component&#8217;s <code>render()</code> function is called, it updates its virtual DOM and then does a diff with the actual DOM to apply any changes. You can call <code>render()</code> on your top-level component and if nothing has changed (state or props), React won&#8217;t even touch the DOM. Since the DOM is usually a bottleneck, this is a big performance win.</p>

<p>I&#8217;m somewhat torn on JSX. It allows you to write HTML-like code which gets transpiled to native javascript calls to <code>React.DOM</code>. I <a href='https://github.com/jjt/LUXTRUBUK/tree/master/client/src/jsx'>used it extensively</a> for the project, but I&#8217;m just not a fan of XML-style markup. Since I like CoffeeScript, I&#8217;d follow the lead of <a href='http://blog.vjeux.com/2013/javascript/react-coffeescript.html'>vjeux</a> and <a href='http://neugierig.org/software/blog/2014/02/react-jsx-coffeescript.html'>Evan Martin</a> for a cleaner syntax on my next React project. And there will be a next React project if I can help it.</p>

<h2 id='prefer_gulp_to_grunt'>Prefer gulp to Grunt</h2>

<p>I&#8217;m planning on writing an article on gulp so I&#8217;ll only touch on it here. <strong>TL;DR</strong> gulp is the clear winner for a build system over Grunt.</p>

<p>Its use of Node streams and code instead of config is a natural match for this kind of project. <a href='https://github.com/jjt/LUXTRUBUK/blob/master/gulpfile.js'>LUXTRUBUK&#8217;s gulpfile</a> is probably half the size of a corresponding Gruntfile, and it&#8217;s more readable. Tasks happen lightning fast, sometimes in the <em>sub-millisecond</em> range. For more info on gulp and its advantages, check out <a href='http://slid.es/contra/gulp'>this slide deck</a>.</p>

<h2 id='lesson_learned_web_development_oss_is_awesome'>Lesson learned: web development OSS is awesome</h2>

<p>Could I have done LUXTRUBUK in spaghetti jQuery without React, Bower, gulp, Lo-Dash, etc? Sure, but it would have probably taken longer and been very fragile to change.</p>

<p>Lately there have been a few posts decrying the sheer number of new tools and frameworks that keep popping up, making the authors feel compelled to try everything lest they fall behind. While I respect that sentiment and don&#8217;t think they were advocating jQuery pasta, I feel that we&#8217;re very fortunate to be in a position to complain about the number of tools available to us.</p>
  </div>
</div>

<div class="r">
  <div class="g-12">
    <h2>Comments <span class='subhead'>(Disqus, naturally)</span></h2>
    <div id="disqus_thread"></div>
    <script type="text/javascript">
        var disqus_shortname = 'jjtio';
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
  </div>
</div>

<div class="r">
 <div class="g-12">
   <p><em>Suggestions? Ping me <a href="http://twitter.com/jasontrill/">on Twitter @jasontrill</a>,
    or <a href="https://github.com/jjt/jjt.github.io/issues">open a Github issue</a>.
    Pull requests are gladly accepted, but open an issue first to talk about any major changes.
  </em></p>

    <h2>Recent articles</h2>
      <ul class="posts list-plain list-delta">
        
          <li><a href="/2014/07/30/building-a-board-game-with-react-js/">Building a board game with React.js</a> <span>30 Jul 2014</span></li>
        
          <li><a href="/2014/07/18/analyzing-source-files-to-automatically-create-custom-lo-dash-builds-in-73-characters/">Analyzing source files to automatically create custom Lo-Dash builds in 73 characters</a> <span>18 Jul 2014</span></li>
        
          <li><a href="/2014/02/13/luxtrubuk-a-jeopardy-simulator-built-on-react/">LUXTRUBUK: a JEOPARDY!™ simulator built on React</a> <span>13 Feb 2014</span></li>
        
          <li><a href="/2014/01/08/some-thoughts-on-web-development-practices/">Some thoughts on web development practices</a> <span>08 Jan 2014</span></li>
        
          <li><a href="/2013/11/25/why-any-developer-should-check-out-the-ergodox-keyboard/">The ErgoDox keyboard a year in, and why you should get one</a> <span>25 Nov 2013</span></li>
        
      </ul>
    </div>
  </div>
</div>

 </div>
</div>

      </div>

      </div>

      <div id="footer" class="footer container">
          <a href="http://github.com/jjt/">github.com/jjt</a>
          <a href="http://twitter.com/jasontrill/">twitter.com/jasontrill</a>
          <a href="mailto:jason@jasontrill.com">jason@jasontrill.com</a>
          <span>&copy;Jason Trill</span>
      </div>
      <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-11820998-2', 'jjt.io');
        ga('send', 'pageview');

      </script>
    </body>
</html>

